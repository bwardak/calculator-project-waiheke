(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const g of o.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&s(g)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();const i=[];let c=[],d=[],m=[],E=[],b,u=null,a,f,p;const A=document.querySelectorAll(".button--number"),T=document.querySelector(".button--equals"),h=document.querySelector(".screen--answer"),l=document.querySelector(".screen--equation"),L=document.querySelectorAll(".button"),v=document.querySelectorAll(".button--operator"),x=document.querySelector(".button--clear"),y=document.querySelector(".button--ans"),q=document.querySelector(".moon"),w=document.querySelector(".sun"),S=document.body;if(!l||!h||!x||!T||!y||!w||!q)throw new Error("Issue with selector for container");const N=e=>{const n=e.currentTarget;i.push(n.innerText),(i[0]==="+"||i[0]==="+-"||i[0]==="*"||i[0]==="/")&&i.shift()},O=()=>{b=i.join(""),u=b.match(/\([^()]*\)/g);const e=u==null?void 0:u.map(n=>n.slice(1,-1));e&&(E=e.map(I))},I=e=>{const n=e.match(/(-?\d+)|([+\-*/])/g);if(!n)throw new Error("Error with selector");let t=parseFloat(n[0]);for(let s=1;s<n.length;s+=2){const r=n[s],o=parseFloat(n[s+1]);switch(r){case"+":t+=o;break;case"-":t-=o;break;case"*":t*=o;break;case"/":t/=o;break}}return t},B=()=>{a=b,u&&u.forEach((e,n)=>{a=a.replace(e,E[n].toString())})},C=()=>{c=(a.match(/\d+(\.\d+)?/g)??[]).map(Number),l.innerText[0]==="-"&&(c[0]=c[0]*-1),f=a.match(/[^\d.]+/g),p=f==null?void 0:f.join(""),d=(p==null?void 0:p.match(/\D/g))||[]},P=e=>{const n=e.currentTarget;l.innerText==="0"&&l.innerText.length==1&&(l.innerText=""),n.innerText==="+-"?l.innerText+="-":l.innerText+=n.innerText},F=e=>{let n=e.findIndex(t=>t==="-");for(;n!==-1;){let t=n-1;for(;e[t]==="+";){e.splice(t,1),t--;break}n=e.findIndex((s,r)=>s==="-"&&r>n)}return e},R=()=>{const e=F(d);for(let t=0;t<d.length;t++)if(e[t]==="*"){const s=c[t]*c[t+1];c.splice(t,2,s),e.splice(t,1),t--}else if(e[t]==="/"){const s=c[t]/c[t+1];c.splice(t,2,s),e.splice(t,1),t--}let n=c[0];for(let t=1;t<c.length;t++)switch(e[t-1]){case"+":n+=c[t];break;case"-":n-=c[t];break}h.innerText=n.toString(),m.push(n.toString())},j=()=>{l.innerText==="0"&&l.innerText.length==1&&(l.innerText=""),l.innerText+=y.innerText.toUpperCase();for(let e=i.length;e>0;e--)i.pop();i.push(m[0]);for(let e=m.length;e>0;e--)m.pop()},D=e=>{const n=e.currentTarget;i.push(n.innerText)},k=()=>{h&&(h.innerText=""),l.innerText="0";for(let e=c.length;e>0;e--)c.pop();for(let e=i.length;e>0;e--)i.pop();for(let e=d.length;e>0;e--)d.pop()};A.forEach(e=>{e.addEventListener("click",N)});L.forEach(e=>{e.addEventListener("click",P)});x.addEventListener("click",k);y.addEventListener("click",()=>{k(),j()});v.forEach(e=>{e.addEventListener("click",D)});T.addEventListener("click",()=>{O(),B(),C(),R()});q.addEventListener("click",()=>{S.classList.toggle("dark-mode")});w.addEventListener("click",()=>{S.classList.toggle("dark-mode")});
